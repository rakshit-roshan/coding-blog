<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatPro - Professional Messaging</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            width: 100%;
            max-width: 1200px;
            height: 90vh;
            display: flex;
            flex-direction: column;
        }

        /* Login/Signup Styles */
        .auth-container {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .auth-card {
            background: white;
            padding: 3rem;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            text-align: center;
            margin-bottom: 2rem;
        }

        .logo h1 {
            color: #4a5568;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .logo p {
            color: #718096;
            font-size: 1rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #4a5568;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 0.875rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .btn {
            width: 100%;
            padding: 0.875rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
            margin-top: 1rem;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        /* Chat Interface Styles */
        .chat-container {
            display: none;
            height: 100%;
            flex-direction: column;
        }

        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .chat-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            background: #f8fafc;
        }

        .message {
            margin-bottom: 1rem;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.25rem;
        }

        .message-author {
            font-weight: 600;
            color: #4a5568;
        }

        .message-time {
            font-size: 0.875rem;
            color: #718096;
        }

        .message-content {
            background: white;
            padding: 0.875rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            margin-left: 0.5rem;
            border-left: 3px solid #667eea;
        }

        .message.own .message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-left: 3px solid #4c51bf;
        }

        .chat-input {
            padding: 1rem;
            background: white;
            border-top: 1px solid #e2e8f0;
            display: flex;
            gap: 1rem;
        }

        .chat-input input {
            flex: 1;
            padding: 0.875rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .chat-input input:focus {
            outline: none;
            border-color: #667eea;
        }

        .send-btn {
            padding: 0.875rem 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .online-users {
            background: #f1f5f9;
            padding: 1rem;
            border-top: 1px solid #e2e8f0;
            font-size: 0.875rem;
            color: #64748b;
        }

        .online-users strong {
            color: #334155;
        }

        @media (max-width: 768px) {
            .container {
                height: 100vh;
                border-radius: 0;
            }
            
            .auth-card {
                padding: 2rem;
                margin: 1rem;
            }
            
            .chat-header {
                padding: 1rem;
            }
            
            .chat-header h2 {
                font-size: 1.25rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Authentication Section -->
        <div id="authSection" class="auth-container">
            <div class="auth-card">
                <div class="logo">
                    <h1>ChatPro</h1>
                    <p>Professional Team Communication</p>
                </div>
                
                <form id="authForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group" id="passwordGroup">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" id="authSubmit">Sign In</button>
                    <button type="button" class="btn btn-secondary" id="toggleAuth">Don't have an account? Sign Up</button>
                </form>
            </div>
        </div>

        <!-- Chat Section -->
        <div id="chatSection" class="chat-container">
            <div class="chat-header">
                <h2>Team Chat</h2>
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar"></div>
                    <span id="currentUser"></span>
                    <button class="logout-btn" id="logoutBtn">Logout</button>
                </div>
            </div>
            
            <div class="chat-messages" id="chatMessages"></div>
            
            <div class="online-users" id="onlineUsers">
                <strong>Online:</strong> <span id="onlineList"></span>
            </div>
            
            <div class="chat-input">
                <input type="text" id="messageInput" placeholder="Type your message...">
                <button class="send-btn" id="sendBtn">Send</button>
            </div>
        </div>
    </div>

    <script>
        // Application state
        let currentUser = null;
        let users = [];
        let messages = [];
        let isSignUp = false;

        // DOM elements
        const authSection = document.getElementById('authSection');
        const chatSection = document.getElementById('chatSection');
        const authForm = document.getElementById('authForm');
        const toggleAuth = document.getElementById('toggleAuth');
        const authSubmit = document.getElementById('authSubmit');
        const emailGroup = document.getElementById('email').parentElement;
        const passwordGroup = document.getElementById('passwordGroup');
        const chatMessages = document.getElementById('chatMessages');
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const currentUserSpan = document.getElementById('currentUser');
        const userAvatar = document.getElementById('userAvatar');
        const logoutBtn = document.getElementById('logoutBtn');
        const onlineList = document.getElementById('onlineList');

        // Initialize with some demo messages
        messages = [
            {
                id: 1,
                author: 'System',
                content: 'Welcome to ChatPro! Start chatting with your team.',
                timestamp: new Date().toLocaleTimeString(),
                isSystem: true
            }
        ];

        // Event listeners
        toggleAuth.addEventListener('click', () => {
            isSignUp = !isSignUp;
            updateAuthForm();
        });

        authForm.addEventListener('submit', (e) => {
            e.preventDefault();
            handleAuth();
        });

        sendBtn.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        logoutBtn.addEventListener('click', logout);

        function updateAuthForm() {
            if (isSignUp) {
                authSubmit.textContent = 'Sign Up';
                toggleAuth.innerHTML = 'Already have an account? <strong>Sign In</strong>';
                emailGroup.style.display = 'block';
                passwordGroup.style.display = 'block';
            } else {
                authSubmit.textContent = 'Sign In';
                toggleAuth.innerHTML = 'Don\'t have an account? <strong>Sign Up</strong>';
                emailGroup.style.display = 'block';
                passwordGroup.style.display = 'block';
            }
        }

        function handleAuth() {
            const username = document.getElementById('username').value.trim();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;

            if (!username || !email || !password) {
                alert('Please fill in all fields');
                return;
            }

            // Simulate authentication
            currentUser = {
                username: username,
                email: email,
                avatar: username.charAt(0).toUpperCase(),
                joinTime: new Date()
            };

            // Add user to online users list
            if (!users.find(u => u.username === username)) {
                users.push(currentUser);
            }

            showChatInterface();
            addSystemMessage(`${username} joined the chat`);
            updateOnlineUsers();
        }

        function showChatInterface() {
            authSection.style.display = 'none';
            chatSection.style.display = 'flex';
            
            currentUserSpan.textContent = currentUser.username;
            userAvatar.textContent = currentUser.avatar;
            
            renderMessages();
            messageInput.focus();
        }

        function sendMessage() {
            const content = messageInput.value.trim();
            if (!content) return;

            const message = {
                id: messages.length + 1,
                author: currentUser.username,
                content: content,
                timestamp: new Date().toLocaleTimeString(),
                isOwn: true
            };

            messages.push(message);
            messageInput.value = '';
            renderMessages();
            
            // Simulate other users responding occasionally
            if (Math.random() > 0.7) {
                setTimeout(() => {
                    simulateResponse();
                }, 1000 + Math.random() * 2000);
            }
        }

        function simulateResponse() {
            const responses = [
                "That's a great point!",
                "I agree with that approach.",
                "Let me think about this...",
                "Thanks for sharing that information.",
                "Interesting perspective!",
                "Could you elaborate on that?",
                "That makes sense to me.",
                "I have a different viewpoint on this."
            ];

            const authors = ['Alex Johnson', 'Sarah Chen', 'Michael Rodriguez', 'Emma Williams'];
            const randomAuthor = authors[Math.floor(Math.random() * authors.length)];
            
            if (randomAuthor !== currentUser.username) {
                const message = {
                    id: messages.length + 1,
                    author: randomAuthor,
                    content: responses[Math.floor(Math.random() * responses.length)],
                    timestamp: new Date().toLocaleTimeString(),
                    isOwn: false
                };

                messages.push(message);
                renderMessages();
            }
        }

        function addSystemMessage(content) {
            const message = {
                id: messages.length + 1,
                author: 'System',
                content: content,
                timestamp: new Date().toLocaleTimeString(),
                isSystem: true
            };

            messages.push(message);
            renderMessages();
        }

        function renderMessages() {
            chatMessages.innerHTML = '';
            
            messages.forEach(message => {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${message.isOwn ? 'own' : ''} ${message.isSystem ? 'system' : ''}`;
                
                if (message.isSystem) {
                    messageDiv.innerHTML = `
                        <div class="message-content" style="background: #f0f9ff; color: #0369a1; border-left-color: #0ea5e9; font-style: italic; text-align: center;">
                            ${message.content}
                        </div>
                    `;
                } else {
                    messageDiv.innerHTML = `
                        <div class="message-header">
                            <span class="message-author">${message.author}</span>
                            <span class="message-time">${message.timestamp}</span>
                        </div>
                        <div class="message-content">
                            ${message.content}
                        </div>
                    `;
                }
                
                chatMessages.appendChild(messageDiv);
            });
            
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function updateOnlineUsers() {
            const onlineUsernames = users.map(u => u.username).join(', ');
            onlineList.textContent = onlineUsernames || 'No users online';
        }

        function logout() {
            // Remove user from online list
            users = users.filter(u => u.username !== currentUser.username);
            
            if (currentUser) {
                addSystemMessage(`${currentUser.username} left the chat`);
            }
            
            currentUser = null;
            
            // Reset form
            authForm.reset();
            isSignUp = false;
            updateAuthForm();
            
            // Show auth section
            chatSection.style.display = 'none';
            authSection.style.display = 'flex';
            
            updateOnlineUsers();
        }

        // Initialize the form
        updateAuthForm();
        
        // Add some demo users
        users = [
            { username: 'Alex Johnson', avatar: 'A' },
            { username: 'Sarah Chen', avatar: 'S' },
            { username: 'Michael Rodriguez', avatar: 'M' }
        ];
        updateOnlineUsers();
    </script>
</body>
</html>